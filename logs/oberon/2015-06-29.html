<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF8"><title>2015-06-29</title><link rel="stylesheet" type="text/css" href="chatlog.css"></head><body>
<div><span class='t'>[04:36:17] </span><span class='n'>kpmý</span>: <span class='m'>http://habrahabr.ru/post/261339/ бгг, ололо, свердлов все врал</span></div>
<div><span class='t'>[04:59:20] </span><span class='n'>_valexey_</span>: <span class='m'>Ошибался.</span></div>
<div><span class='t'>[05:35:53] </span><span class='n'>geniepro</span>: <span class='m'>http://best-dem.ru/wp-content/uploads/2011/04/ХЬЮСТОН-У-НАС-ПРОБЛЕМА1.jpg</span></div>
<div><span class='t'>[05:42:12] </span><span class='n'>_valexey_</span>: <span class='m'>Проблема, у нас Хьюстон!</span></div>
<div><span class='t'>[06:12:41] </span><span class='n'>_valexey_</span>: <span class='m'>test</span></div>
<div><span class='t'>[06:12:42] </span><span class='n'>Жаба</span>: <span class='m'>_valexey_, passed</span></div>
<div><span class='t'>[08:03:17] </span><span class='n'>Kemet</span>: <span class='m'>Чья статья про Go</span></div>
<div><span class='t'>[08:04:25] </span><span class='n'>kpmy</span>: <span class='m'>какой-то го-фанат, хз</span></div>
<div><span class='t'>[08:07:28] </span><span class='n'>Kemet</span>: <span class='m'>Хе, а я повелся на ник divan и думал ну вот ща в конце он скажет, что пейсал про оберон</span></div>
<div><span class='t'>[08:07:55] </span><span class='n'>kpmy</span>: <span class='m'>не, это не наш диван)</span></div>
<div><span class='t'>[08:09:39] </span><span class='n'>Kemet</span>: <span class='m'>Как наиболее быстро закрасить прямоугольник со скругленными углами</span></div>
<div><span class='t'>[08:10:33] </span><span class='n'>kpmy</span>: <span class='m'>скругленными внутрь или наружу?</span></div>
<div><span class='t'>[08:11:50] </span><span class='n'>Kemet</span>: <span class='m'>В идеале в любом сочетании, но сейчас хватит наружу</span></div>
<div><span class='t'>[08:13:27] </span><span class='n'>kpmy</span>: <span class='m'>два прямоугольника и четыре сектора/круга, так получается? </span></div>
<div><span class='t'>[08:14:18] </span><span class='n'>kpmy</span>: <span class='m'>но наверное для специальных библиотек есть свои функции, в opengl например</span></div>
<div><span class='t'>[08:14:24] </span><span class='n'>kpmy</span>: <span class='m'>в общем, оче размытый вопрос</span></div>
<div><span class='t'>[08:14:29] </span><span class='n'>Kemet</span>: <span class='m'>kpmy, Ну получается три прямоугольника</span></div>
<div><span class='t'>[08:15:28] </span><span class='n'>kpmy</span>: <span class='m'>два же, просто большие и пересекаются в центре</span></div>
<div><span class='t'>[08:15:38] </span><span class='n'>Kemet</span>: <span class='m'>kpmy, В А2 пока нету гл</span></div>
<div><span class='t'>[08:17:34] </span><span class='n'>Kemet</span>: <span class='m'>kpmy, Смотри, шдин большой по центру, с углами в точках прямоугольников углови два маленьких по краям</span></div>
<div><span class='t'>[08:19:04] </span><span class='n'>kpmy</span>: <span class='m'>ну это же будет две операции, а если положить один прямоугольник перехлестом с большим, то одна</span></div>
<div><span class='t'>[08:19:32] </span><span class='n'>kpmy</span>: <span class='m'>хотя если заливка дорогая, то лучше меньше пикселей заливать</span></div>
<div><span class='t'>[08:20:59] </span><span class='n'>Kemet</span>: <span class='m'>сплошным цвеьом я так рисую - закрашиваю три прямоугольника и по точкам углы с использованием уранения окружности, но мне надо и градиент лить</span></div>
<div><span class='t'>[08:21:56] </span><span class='n'>kpmy</span>: <span class='m'>ну градиент тут можно рассчитывать просто, как для прямоугольника, без скруглов</span></div>
<div><span class='t'>[08:23:55] </span><span class='n'>kpmy</span>: <span class='m'>графика это интересно, в общем)</span></div>
<div><span class='t'>[08:24:53] </span><span class='n'>Kemet</span>: <span class='m'>Вот а лить то вернее отсекать то потом как этот градиент</span></div>
<div><span class='t'>[08:26:02] </span><span class='n'>_valexey_</span>: <span class='m'>Алгоритм закраски такого прямоугольника вроде бы яббл в свое время патентовал :-)</span></div>
<div><span class='t'>[08:27:38] </span><span class='n'>_valexey_</span>: <span class='m'>Именно быстрой закраски</span></div>
<div><span class='t'>[09:17:34] </span><span class='n'>Kemet</span>: <span class='m'>_valexey_, Я думаю, что сплощную закраску существенно не ускорить - закраска трех прямоугольников на максимуме, плюс скругленные углы радиуса 4 точки вполне по точкам заливаются, что здесь ускорить? хотя, я использую уравнение окружносьи, а там квадрат и корень квадратный, учиьывая фиксированный радиус и целочисленные координаты можно просто таблицу сделать вместо вычислений</span></div>
<div><span class='t'>[09:20:05] </span><span class='n'>Kemet</span>: <span class='m'>Пусть даже радиус не фиксированный, но матрицу   на некоторое число точек сделать можно</span></div>
<div><span class='t'>[09:21:45] </span><span class='n'>valexey</span>: <span class='m'>Kemet: насколько я помню, кошерные алгоритмы отрисовки (то есть быстрые) вообще плавающую точку не используют</span></div>
<div><span class='t'>[09:21:52] </span><span class='n'>valexey</span>: <span class='m'>работают только с целочисленными координатами</span></div>
<div><span class='t'>[09:21:59] </span><span class='n'>valexey</span>: <span class='m'>это программирование чистое, не математика</span></div>
<div><span class='t'>[09:22:04] </span><span class='n'>TRUE</span>: <span class='m'>Если предполагается рисовать много прямоугольников с одним и тем же скруглением, то можно сделать заготовку, которую просто копировать в нужное место</span></div>
<div><span class='t'>[09:22:52] </span><span class='n'>TRUE</span>: <span class='m'>я про скургление говорю</span></div>
<div><span class='t'>[09:23:52] </span><span class='n'>Kemet</span>: <span class='m'>TRUE, Просто копировать не всегда получится - нужно учитывать прозрачность и смешение на гианице для улучшения восприятия</span></div>
<div><span class='t'>[09:27:08] </span><span class='n'>Kemet</span>: <span class='m'>Но в принципе, там где можно, нужно использовать копирование</span></div>
<div><span class='t'>[09:28:40] </span><span class='n'>valexey</span>: <span class='m'>например окружность никогда не рисуют используя уравнение окружности :-)</span></div>
<div><span class='t'>[09:28:45] </span><span class='n'>TRUE</span>: <span class='m'>эти прямоугольники для кнопок?</span></div>
<div><span class='t'>[09:29:52] </span><span class='n'>kpmy</span>: <span class='m'>можно увеличивать масштабы и там рисовать даже с уравнением окружности, только целочисленным, до какой-то степени точности</span></div>
<div><span class='t'>[09:31:18] </span><span class='n'>TRUE</span>: <span class='m'>можно нарисовать четверть прямоугольника и отзеркалировать его в половинку, а половинку отзеркалировать в целый прямоугольник. Правда, с градиентами там будет прокол, если градиент линейный.</span></div>
<div><span class='t'>[09:32:00] </span><span class='n'>valexey</span>: <span class='m'>а можно не выпендриваться и литературу-статьи по этому поводу прочитать и сделать также. :-)</span></div>
<div><span class='t'>[09:33:08] </span><span class='n'>valexey</span>: <span class='m'>"Лисовенко считает, что вслед за «насаждением демократии танками» США могут начать «распространение гей-браков с помощью авианосцев» по всему миру."</span></div>
<div><span class='t'>[09:33:14] </span><span class='n'>Kemet</span>: <span class='m'>Там же такая проблкма - точки в скруглкнном угле должны по разному копироваться. граница -копирование, а сглаживание со смешиванием цвета пожложки , поэтому в общем случае остается рисование. если же подложка всегда одна и та же и регулярна то да, копирование оптимально</span></div>
<div><span class='t'>[09:33:14] </span><span class='n'>valexey</span>: <span class='m'>Ггг. Мировая угроза, однако!</span></div>
<div><span class='t'>[09:35:59] </span><span class='n'>Kemet</span>: <span class='m'>TRUE, И для кнопок и для панелей</span></div>
<div><span class='t'>[09:36:43] </span><span class='n'>TRUE</span>: <span class='m'>А там сглаживание на том же уровне, что и рисование примитивов? То есть, сам примитив в виде рисунка программисту недоступен, а результат внедрения примитива на холст наоборот доступен? Странно как-то...</span></div>
<div><span class='t'>[09:38:57] </span><span class='n'>Kemet</span>: <span class='m'>TRUE, В А2 виджеты обычно не имеют своего холста, отр  овка идет на холст окна, причем с двойной буферищацией</span></div>
<div><span class='t'>[09:42:56] </span><span class='n'>Kemet</span>: <span class='m'>TRUE, Сглаживания искаропки нет, хотя есть отдельная реализация методов холста со сглажтванием, есть векторная либа поддерживающая сглаживание, но холст её не использует потому что она написана на процедурном обкроне и в многопоточном гуе просядет производительность от этого, да и координаты в ней на реалах. поэтому скругдение я сам сглаживаю</span></div>
<div><span class='t'>[09:46:11] </span><span class='n'>Kemet</span>: <span class='m'>Вобщем и скругленте я сам рисую потому что оно не умеет arc. arc умеет векторнач либа и именно она используется для рендеринга svg, но пока она не нужна</span></div>
<div><span class='t'>[12:02:05] </span><span class='n'>geniepro</span>: <span class='m'>http://blog.dshevchenko.biz/2015/06/26/haskell-and-perfection.html</span></div>
<div><span class='t'>[12:03:48] </span><span class='n'>kpmy</span>: <span class='m'>девочки в программировании</span></div>
<div><span class='t'>[12:03:51] </span><span class='n'>kpmy</span>: <span class='m'>влюбился, хуился</span></div>
<div><span class='t'>[12:38:41] </span><span class='n'>akastargazer</span>: <span class='m'>>Если возможно создать на языке X качественную программную систему - значит этот язык годный.<br/>ну и глупость</span></div>
<div><span class='t'>[14:21:07] </span><span class='n'>kpmy</span>: <span class='m'>интерпретатор получил название lenin, language naive interpreter</span></div>
<div><span class='t'>[14:27:05] </span><span class='n'>acidtech23</span>: <span class='m'>я ленин</span></div>
<div><span class='t'>[14:27:17] </span><span class='n'>kpmy</span>: <span class='m'>ты гавно</span></div>
<div><span class='t'>[14:28:05] </span><span class='n'>acidtech23</span>: <span class='m'>ленин </span></div>
<div><span class='t'>[14:31:55] </span><span class='n'>acidtech23</span>: <span class='m'>убежал обиженый, в обиженку пошел</span></div>
<div><span class='t'>[15:34:55] </span><span class='n'>Kemet</span>: <span class='m'>http://www.volinrok.com/2010/09/07/skruglennye-pryamougolniki-povsyudu/</span></div>
<div><span class='t'>[15:53:48] </span><span class='n'>TRUE</span>: <span class='m'>да, и в Википедии алгоритмы построения окружности, сглаживания</span></div>
<div><span class='t'>[15:56:15] </span><span class='n'>_valexey_</span>: <span class='m'>Гм. А ведь xmpp отлично ложится на Оберон-ОС. Более того, именно там он был бы юзабельнее всего.</span></div>
<div><span class='t'>[15:56:39] </span><span class='n'>Kemet</span>: <span class='m'>напиши!</span></div>
<div><span class='t'>[16:04:09] </span><span class='n'>TRUE</span>: <span class='m'>а из каких соображений это следует? Я что-то не совсем улавливаю мысль.о</span></div>
<div><span class='t'>[16:10:58] </span><span class='n'>Kemet</span>: <span class='m'>TRUE: ну брезенхем это понятно, и можно им просто сектор отрисовать, но мне надо сглаживание.<br/>я сейчас очень тупой метод использую, он работает, но хотелось бы избавиться от сложной математики:<br/>WMGraphics.ColorToRGBA( color, r2, g2, b2, a2 );<br/>		FOR ry := cornerRect.t TO cornerRect.b DO<br/>			FOR rx := cornerRect.l TO cornerRect.r DO<br/>				distance := 1 - ABS(( radius - 1 ) - Math.sqrt(Sqr(cx - rx) + Sqr(cy - ry)));<br/>				IF distance > 0 THEN<br/>					orgColor := canvas.GetPixel( rx, ry );<br/>					WMGraphics.ColorToRGBA( orgColor, r1, g1, b1, a1 );<br/><br/>					orgColor := WMGraphics.RGBAToColor(<br/>						ENTIER(r1 + (r2 - r1) * distance),<br/>						ENTIER(g1 + (g2 - g1) * distance),<br/>						ENTIER(b1 + (b2 - b1) * distance),<br/>						a2 (*ENTIER(a1 + (a2 - a1) * distance) *)<br/>					);<br/>					canvas.SetPixel(rx, ry, orgColor, mode);<br/>				END;<br/>			END;<br/>		END;</span></div>
</body></html>